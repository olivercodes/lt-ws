apiVersion: apps/v1
kind: Deployment
metadata:
  name: secure-nonroot-app
  namespace: default
  annotations:
    commit-sha: "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0"  # 85% coverage
spec:
  replicas: 1
  selector:
    matchLabels:
      app: secure-nonroot-app
  template:
    metadata:
      labels:
        app: secure-nonroot-app
    spec:
      securityContext:
        runAsUser: 1000
        runAsNonRoot: true
      containers:
      - name: web
        image: nginx:1.21
        ports:
        - containerPort: 8080
